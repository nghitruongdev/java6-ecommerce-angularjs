<!DOCTYPE html>
<html
        lang="en"
        th:replace="~{/layout/index::dynamic(~{::main})}">
<head>
    <meta charset="UTF-8"/>
    <title>Title</title>
</head>
<body>
<div th:fragment="main" class="mx-auto container">
    <h2 th:text="${category != null? category.name : ' All Products'}"></h2>
    <div></div>
    <div th:if="${hasContent}" class="row justify-content-around">
        <div class="col-auto mt-3" th:each="prod, stat: ${productPage.content}">
            <div th:replace="~{/product/product-card::product-card(${prod})}"></div>
        </div>
        <div class="d-flex justify-content-center mt-3">
            <nav aria-label="Page navigation example" class="mx-auto" th:object="${productPage.metadata}">
                <ul class="pagination pagination-lg">
                    <li class="page-item">
                        <a class="page-link" href="#" aria-label="Previous"
                           th:classappend="*{number == 0? 'disabled': ''}"
                           th:href="@{?page=0}">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                    <li th:classappend="*{number == 0? 'active': ''}"
                        class="page-item "><a class="page-link" href="#"
                                              th:href="@{|?page=*{number - (number == 0? 0: 1)}|}"
                                              th:text="*{number == 0? '1': number}">1</a></li>
                    <li th:if="*{number != (totalPages - 1)}"
                        th:classappend="*{number == 0? '' : 'active'}"
                        class="page-item"><a class="page-link" href="#"
                                             th:href="@{|*{number == 0? '?page=' + (number + 1): '#'}|}"
                                             th:text="*{number == 0? '2': number + 1}">2</a></li>
                    <li th:if="*{!(number == totalPages - 1) && (number + 2) < totalPages}"
                        class="page-item"
                    ><a class="page-link" href="#" th:href="@{|?page=*{number + 1}|}" th:text="*{number + 2}">3</a></li>
                    <li class="page-item">
                        <a class="page-link" href="#" aria-label="Next"
                           th:href="@{|?page=*{totalPages - 1}|}"
                           th:classappend="*{(number == totalPages - 1)? 'disabled' : ''}">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    <p th:if="${!hasContent}">No Product Was Found</p>
</div>
</body>
</html>
